<!doctype html><html lang=en dir=ltr><head><meta name=generator content="Hugo 0.82.0"><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Credentials #  The operator as well as commands may require credentials. The operator may require credentials for performing state backups to cloud storage. And commands such as plan and apply may require credentials for using various terraform providers such as for AWS or GCP.
It&rsquo;s advisable where possible to adopt approaches such as Workload Identity instead. They avoid the need to use credentials, thereby also avoiding the associated overhead and security risks, such as manual rotation, ensuring they are not printed in output, etc."><meta name=theme-color content="#FFFFFF"><meta property="og:title" content><meta property="og:description" content="Credentials #  The operator as well as commands may require credentials. The operator may require credentials for performing state backups to cloud storage. And commands such as plan and apply may require credentials for using various terraform providers such as for AWS or GCP.
It&rsquo;s advisable where possible to adopt approaches such as Workload Identity instead. They avoid the need to use credentials, thereby also avoiding the associated overhead and security risks, such as manual rotation, ensuring they are not printed in output, etc."><meta property="og:type" content="article"><meta property="og:url" content="https://docs.etok.dev/docs/reference/credentials/"><meta property="article:section" content="docs"><title>Credentials | Etok Documentation</title><link rel=manifest href=/manifest.json><link rel=icon href=/favicon.png type=image/x-icon><link rel=stylesheet href=/book.min.24f3817ddc09292b83a1212d9d8d7ae33f6a9cbbf78087312dde7f76f8e573f8.css integrity="sha256-JPOBfdwJKSuDoSEtnY164z9qnLv3gIcxLd5/dvjlc/g="><script defer src=/en.search.min.3b8bc9b49daaa3de289464c184b0004b43682b27e6ee2c2f2b314ee42f2dcf8c.js integrity="sha256-O4vJtJ2qo94olGTBhLAAS0NoKyfm7iwvKzFO5C8tz4w="></script></head><body dir=ltr><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav><h2 class=book-brand><a href=/><span>Etok Documentation</span></a></h2><div class=book-search><input type=text id=book-search-input placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><ul><li class=book-section-flat><span>Tutorials</span><ul><li><a href=https://docs.etok.dev/docs/tutorials/getting_started/>Getting Started</a></li></ul></li><li class=book-section-flat><span>Guides</span><ul><li><a href=https://docs.etok.dev/docs/guides/state_backup/>State Backup</a></li><li><a href=https://docs.etok.dev/docs/guides/workload_identity/>Workload Identity</a></li></ul></li><li class=book-section-flat><span>Reference</span><ul><li><a href=https://docs.etok.dev/docs/reference/operator_install/>Operator Install</a></li><li><a href=https://docs.etok.dev/docs/reference/access_control/>Access Control</a></li><li><a href=https://docs.etok.dev/docs/reference/commands/>Commands</a><ul><li><a href=https://docs.etok.dev/docs/reference/commands/terraform/>Terraform</a></li><li><a href=https://docs.etok.dev/docs/reference/commands/additional/>Additional</a></li></ul></li><li><a href=https://docs.etok.dev/docs/reference/credentials/ class=active>Credentials</a></li><li><a href=https://docs.etok.dev/docs/reference/restrictions/>Restrictions</a></li><li><a href=https://docs.etok.dev/docs/reference/state/>State</a></li><li><a href=https://docs.etok.dev/docs/reference/testing/>Testing</a></li></ul></li><li class=book-section-flat><span>Background</span><ul><li><a href=https://docs.etok.dev/docs/background/configuration_upload/>Configuration Upload</a></li><li><a href=https://docs.etok.dev/docs/background/performance_optimization/>Performance Optimization</a></li><li><a href=https://docs.etok.dev/docs/background/crds/>CRDs</a></li></ul></li></ul><ul><li><a href=https://github.com/leg100/etok target=_blank rel=noopener>Github</a></li><li><a href=https://join.slack.com/t/etokworkspace/shared_invite/zt-lbqgojdj-IS6aDIydMXe2X3EYf8ZRow target=_blank rel=noopener>Slack</a></li></ul></nav><script>(function(){var a=document.querySelector("aside.book-menu nav");addEventListener("beforeunload",function(b){localStorage.setItem("menu.scrollTop",a.scrollTop)}),a.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/svg/menu.svg class=book-icon alt=Menu></label>
<strong>Credentials</strong>
<label for=toc-control><img src=/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class="hidden clearfix"><nav id=TableOfContents></nav></aside></header><article class=markdown><h1 id=credentials>Credentials
<a class=anchor href=#credentials>#</a></h1><p>The operator as well as commands may require credentials. The operator may require credentials for performing <a href=https://docs.etok.dev/docs/guides/state_backup/>state backups</a> to cloud storage. And commands such as <code>plan</code> and <code>apply</code> may require credentials for using various terraform providers such as for AWS or GCP.</p><blockquote class="book-hint warning">It&rsquo;s advisable where possible to adopt approaches such as Workload Identity instead. They avoid the need to use credentials, thereby also avoiding the associated overhead and security risks, such as manual rotation, ensuring they are not printed in output, etc.</blockquote><p>Etok looks for credentials in a secret named <code>etok</code>. The secret needs to be in the relevant namespace: the operator will look for the secret <code>etok/etok</code> (if the default <code>etok</code> namespace is used); whereas a command will look for the secret in the namespace of its workspace. For instance if its workspace is in the <code>dev</code> namespace, then the command will look for the secret <code>dev/etok</code>.</p><p>The credentials are made available to the running process as environment variables. The key is the environment variable name, and the corresponding value is the environment variable value.</p><p>For instance to set credentials for the <a href=https://www.terraform.io/docs/providers/google/guides/provider_reference.html#full-reference>Terraform GCP provider</a>, or for making backups to GCS:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>kubectl create secret generic etok --from-file<span style=color:#f92672>=</span>GOOGLE_CREDENTIALS<span style=color:#f92672>=[</span>path to service account key<span style=color:#f92672>]</span>
</code></pre></div><p>Or, to set credentials for the <a href=https://www.terraform.io/docs/providers/aws/index.html>AWS provider</a>, or for making backups to S3:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>kubectl create secret generic etok <span style=color:#ae81ff>\
</span><span style=color:#ae81ff></span>  --from-literal<span style=color:#f92672>=</span>AWS_ACCESS_KEY_ID<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;youraccesskeyid&#34;</span>  <span style=color:#ae81ff>\
</span><span style=color:#ae81ff></span>  --from-literal<span style=color:#f92672>=</span>AWS_SECRET_ACCESS_KEY<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;yoursecretaccesskey&#34;</span>
</code></pre></div></article><footer class=book-footer><div class="flex flex-wrap justify-between"><div><a class="flex align-center" href=https://github.com/leg100/etok/edit/master/docs/content//docs/reference/credentials.md target=_blank rel=noopener><img src=/svg/edit.svg class=book-icon alt=Edit>
<span>Edit this page</span></a></div></div></footer><div class=book-comments></div><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><div class=book-toc-content><nav id=TableOfContents></nav></div></aside></main></body></html>