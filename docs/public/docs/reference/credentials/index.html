<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>
  <meta name="generator" content="Hugo 0.80.0" />
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="Credentials #  The operator as well as commands may require credentials. The operator may require credentials for performing state backups to cloud storage. And commands such as plan and apply may require credentials for using various terraform providers such as for AWS or GCP.
It&rsquo;s advisable where possible to adopt approaches such as Workload Identity instead. They avoid the need to use credentials, thereby also avoiding the associated overhead and security risks, such as manual rotation, ensuring they are not printed in output, etc.">
<meta name="theme-color" content="#FFFFFF"><meta property="og:title" content="" />
<meta property="og:description" content="Credentials #  The operator as well as commands may require credentials. The operator may require credentials for performing state backups to cloud storage. And commands such as plan and apply may require credentials for using various terraform providers such as for AWS or GCP.
It&rsquo;s advisable where possible to adopt approaches such as Workload Identity instead. They avoid the need to use credentials, thereby also avoiding the associated overhead and security risks, such as manual rotation, ensuring they are not printed in output, etc." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://docs.etok.dev/docs/reference/credentials/" />

<title>Credentials | Etok Documentation</title>
<link rel="manifest" href="/manifest.json">
<link rel="icon" href="/favicon.png" type="image/x-icon">
<link rel="stylesheet" href="/book.min.df6f869cde214e45a535b56ab1bc0d62e6f3ab280b0d39c0b9dcc71a7b205ed2.css" integrity="sha256-32&#43;GnN4hTkWlNbVqsbwNYubzqygLDTnAudzHGnsgXtI=">
<script defer src="/en.search.min.68efaf2fed99057d51f15574c24b623c1d7b2859f45f0a6c732681b5e76c7cc8.js" integrity="sha256-aO&#43;vL&#43;2ZBX1R8VV0wktiPB17KFn0XwpscyaBtedsfMg="></script>
<!--
Made with Book Theme
https://github.com/alex-shpak/hugo-book
-->

  
</head>

<body dir="ltr">
  <input type="checkbox" class="hidden toggle" id="menu-control" />
  <input type="checkbox" class="hidden toggle" id="toc-control" />
  <main class="container flex">
    <aside class="book-menu">
      <div class="book-menu-content">
        
  <nav>
<h2 class="book-brand">
  <a href="/"><span>Etok Documentation</span>
  </a>
</h2>


<div class="book-search">
  <input type="text" id="book-search-input" placeholder="Search" aria-label="Search" maxlength="64" data-hotkeys="s/" />
  <div class="book-search-spinner hidden"></div>
  <ul id="book-search-results"></ul>
</div>











  



  
  <ul>
    
      
        <li class="book-section-flat" >
          
  
  

  
    <span>Tutorials</span>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="https://docs.etok.dev/docs/tutorials/getting_started/" class="">Getting Started</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li class="book-section-flat" >
          
  
  

  
    <span>Guides</span>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="https://docs.etok.dev/docs/guides/state_backup/" class="">State Backup</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://docs.etok.dev/docs/guides/workload_identity/" class="">Workload Identity</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li class="book-section-flat" >
          
  
  

  
    <span>Reference</span>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="https://docs.etok.dev/docs/reference/operator_install/" class="">Operator Install</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://docs.etok.dev/docs/reference/access_control/" class="">Access Control</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://docs.etok.dev/docs/reference/commands/" class="">Commands</a>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="https://docs.etok.dev/docs/reference/commands/terraform/" class="">Terraform</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://docs.etok.dev/docs/reference/commands/additional/" class="">Additional</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://docs.etok.dev/docs/reference/credentials/" class=" active">Credentials</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://docs.etok.dev/docs/reference/restrictions/" class="">Restrictions</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://docs.etok.dev/docs/reference/state/" class="">State</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://docs.etok.dev/docs/reference/testing/" class="">Testing</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li class="book-section-flat" >
          
  
  

  
    <span>Background</span>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="https://docs.etok.dev/docs/background/configuration_upload/" class="">Configuration Upload</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://docs.etok.dev/docs/background/performance_optimization/" class="">Performance Optimization</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://docs.etok.dev/docs/background/crds/" class="">CRDs</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
  </ul>











  
<ul>
  
  <li>
    <a href="https://github.com/leg100/etok" target="_blank" rel="noopener">
        Github
      </a>
  </li>
  
  <li>
    <a href="https://join.slack.com/t/etokworkspace/shared_invite/zt-lbqgojdj-IS6aDIydMXe2X3EYf8ZRow" target="_blank" rel="noopener">
        Slack
      </a>
  </li>
  
</ul>






</nav>




  <script>(function(){var menu=document.querySelector("aside.book-menu nav");addEventListener("beforeunload",function(event){localStorage.setItem("menu.scrollTop",menu.scrollTop);});menu.scrollTop=localStorage.getItem("menu.scrollTop");})();</script>


 
      </div>
    </aside>

    <div class="book-page">
      <header class="book-header">
        
  <div class="flex align-center justify-between">
  <label for="menu-control">
    <img src="/svg/menu.svg" class="book-icon" alt="Menu" />
  </label>

  <strong>Credentials</strong>

  <label for="toc-control">
    
    <img src="/svg/toc.svg" class="book-icon" alt="Table of Contents" />
    
  </label>
</div>


  
  <aside class="hidden clearfix">
    
  
<nav id="TableOfContents"></nav>



  </aside>
  
 
      </header>

      
      
  <article class="markdown"><h1 id="credentials">
  Credentials
  <a class="anchor" href="#credentials">#</a>
</h1>
<p>The operator as well as commands may require credentials. The operator may require credentials for performing <a href="https://docs.etok.dev/docs/guides/state_backup/">state backups</a> to cloud storage. And commands such as <code>plan</code> and <code>apply</code> may require credentials for using various terraform providers such as for AWS or GCP.</p>
<blockquote class="book-hint warning">
  It&rsquo;s advisable where possible to adopt approaches such as Workload Identity instead. They avoid the need to use credentials, thereby also avoiding the associated overhead and security risks, such as manual rotation, ensuring they are not printed in output, etc.
</blockquote>

<p>Etok looks for credentials in a secret named <code>etok</code>. The secret needs to be in the relevant namespace: the operator will look for the secret <code>etok/etok</code> (if the default <code>etok</code> namespace is used); whereas a command will look for the secret in the namespace of its workspace. For instance if its workspace is in the <code>dev</code> namespace,  then the command will look for the secret <code>dev/etok</code>.</p>
<p>The credentials are made available to the running process as environment variables. The key is the environment variable name, and the corresponding value is the environment variable value.</p>
<p>For instance to set credentials for the <a href="https://www.terraform.io/docs/providers/google/guides/provider_reference.html#full-reference">Terraform GCP provider</a>, or for making backups to GCS:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">kubectl create secret generic etok --from-file<span style="color:#f92672">=</span>GOOGLE_CREDENTIALS<span style="color:#f92672">=[</span>path to service account key<span style="color:#f92672">]</span>
</code></pre></div><p>Or, to set credentials for the <a href="https://www.terraform.io/docs/providers/aws/index.html">AWS provider</a>, or for making backups to S3:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">kubectl create secret generic etok <span style="color:#ae81ff">\
</span><span style="color:#ae81ff"></span>  --from-literal<span style="color:#f92672">=</span>AWS_ACCESS_KEY_ID<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;youraccesskeyid&#34;</span>  <span style="color:#ae81ff">\
</span><span style="color:#ae81ff"></span>  --from-literal<span style="color:#f92672">=</span>AWS_SECRET_ACCESS_KEY<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;yoursecretaccesskey&#34;</span>
</code></pre></div></article>
 
      

      <footer class="book-footer">
        
  <div class="flex flex-wrap justify-between">





  <div>
    <a class="flex align-center" href="https://github.com/leg100/etok/edit/master/docs/content//docs/reference/credentials.md" target="_blank" rel="noopener">
      <img src="/svg/edit.svg" class="book-icon" alt="Edit" />
      <span>Edit this page</span>
    </a>
  </div>

</div>

 
        
      </footer>

      
  
  <div class="book-comments">

</div>
  
 

      <label for="menu-control" class="hidden book-menu-overlay"></label>
    </div>

    
    <aside class="book-toc">
      <div class="book-toc-content">
        
  
<nav id="TableOfContents"></nav>


 
      </div>
    </aside>
    
  </main>

  
</body>

</html>












