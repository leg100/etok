<!doctype html><html lang=en dir=ltr><head><meta name=generator content="Hugo 0.83.1"><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Introduction #  Etok is software for running terraform on a kubernetes cluster. In organizations with teams of engineers working with terraform, it can be difficult managing terraform securely and systematically. Etok leverages kubernetes' control plane and security to help teams work effectively with terraform.
Features #   Kubernetes operator CLI app etok provides for familiar and fast terraform UX Granular access control via Kubernetes RBAC Single platform suitable for both workstation and CI/CD usage Github integration Queueable terraform operations Built-in state backend with automatic backup to cloud storage Credential-free via mechanisms such as GKE Workload Identity Plus all the advantages kubernetes has to offer: scaling, security, instrumention, etc  Motivation #  Running terraform locally is often a bad idea."><meta name=theme-color content="#FFFFFF"><meta property="og:title" content="Introduction"><meta property="og:description" content><meta property="og:type" content="website"><meta property="og:url" content="https://docs.etok.dev/"><title>Introduction | Etok Documentation</title><link rel=manifest href=/manifest.json><link rel=icon href=/favicon.png type=image/x-icon><link rel=stylesheet href=/book.min.d0e7885dc11b523c68be4468e52d512dd00179a348e470ffb6b19d88dd80fa71.css integrity="sha256-0OeIXcEbUjxovkRo5S1RLdABeaNI5HD/trGdiN2A+nE="><script defer src=/en.search.min.12f3fd16164f6d755f529d3e13484ab42a32eb279c2067abc59087f8daae9717.js integrity="sha256-EvP9FhZPbXVfUp0+E0hKtCoy6yecIGerxZCH+Nqulxc="></script><link rel=alternate type=application/rss+xml href=https://docs.etok.dev/index.xml title="Etok Documentation"></head><body dir=ltr><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav><h2 class=book-brand><a href=/><span>Etok Documentation</span></a></h2><div class=book-search><input type=text id=book-search-input placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><ul><li class=book-section-flat><span>Tutorials</span><ul><li><a href=https://docs.etok.dev/docs/tutorials/getting_started/>Getting Started</a></li></ul></li><li class=book-section-flat><span>Guides</span><ul><li><a href=https://docs.etok.dev/docs/guides/github_app/>Github App</a></li><li><a href=https://docs.etok.dev/docs/guides/state_backup/>State Backup</a></li><li><a href=https://docs.etok.dev/docs/guides/workload_identity/>Workload Identity</a></li></ul></li><li class=book-section-flat><span>Reference</span><ul><li><a href=https://docs.etok.dev/docs/reference/operator_install/>Operator Install</a></li><li><a href=https://docs.etok.dev/docs/reference/access_control/>Access Control</a></li><li><a href=https://docs.etok.dev/docs/reference/commands/>Commands</a><ul><li><a href=https://docs.etok.dev/docs/reference/commands/terraform/>Terraform</a></li><li><a href=https://docs.etok.dev/docs/reference/commands/additional/>Additional</a></li></ul></li><li><a href=https://docs.etok.dev/docs/reference/credentials/>Credentials</a></li><li><a href=https://docs.etok.dev/docs/reference/github_app/>Github App</a></li><li><a href=https://docs.etok.dev/docs/reference/restrictions/>Restrictions</a></li><li><a href=https://docs.etok.dev/docs/reference/state/>State</a></li><li><a href=https://docs.etok.dev/docs/reference/testing/>Testing</a></li></ul></li><li class=book-section-flat><span>Background</span><ul><li><a href=https://docs.etok.dev/docs/background/configuration_upload/>Configuration Upload</a></li><li><a href=https://docs.etok.dev/docs/background/performance_optimization/>Performance Optimization</a></li><li><a href=https://docs.etok.dev/docs/background/crds/>CRDs</a></li></ul></li></ul><ul><li><a href=https://github.com/leg100/etok target=_blank rel=noopener>Github</a></li><li><a href=https://join.slack.com/t/etokworkspace/shared_invite/zt-lbqgojdj-IS6aDIydMXe2X3EYf8ZRow target=_blank rel=noopener>Slack</a></li></ul></nav><script>(function(){var a=document.querySelector("aside.book-menu nav");addEventListener("beforeunload",function(b){localStorage.setItem("menu.scrollTop",a.scrollTop)}),a.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/svg/menu.svg class=book-icon alt=Menu></label>
<strong>Introduction</strong>
<label for=toc-control><img src=/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class="hidden clearfix"><nav id=TableOfContents><ul><li><a href=#features>Features</a></li><li><a href=#motivation>Motivation</a></li></ul></nav></aside></header><article class=markdown><h1 id=introduction>Introduction
<a class=anchor href=#introduction>#</a></h1><p>Etok is software for running terraform on a kubernetes cluster. In organizations with teams of engineers working with terraform, it can be difficult managing terraform securely and systematically. Etok leverages kubernetes' control plane and security to help teams work effectively with terraform.</p><h2 id=features>Features
<a class=anchor href=#features>#</a></h2><ul><li>Kubernetes operator</li><li>CLI app <code>etok</code> provides for familiar and fast terraform UX</li><li>Granular access control via Kubernetes RBAC</li><li>Single platform suitable for both workstation and CI/CD usage</li><li>Github integration</li><li>Queueable terraform operations</li><li>Built-in state backend with automatic backup to cloud storage</li><li>Credential-free via mechanisms such as GKE Workload Identity</li><li>Plus all the advantages kubernetes has to offer: scaling, security, instrumention, etc</li></ul><h2 id=motivation>Motivation
<a class=anchor href=#motivation>#</a></h2><p>Running terraform locally is often a bad idea. You may have to keep credentials for cloud providers on your workstation. You may have to open up firewalls to permit connectivity from workstations to cloud APIs. And running <code>terraform plan</code> can generate thousands of API calls, in which case the workstation connection can be a bottleneck.</p><p>Discrepancies between running terraform locally and running it in CI/CD pipelines are a perpetual source of irritation for engineers. The IAM permissions assigned to the local account versus the CI/CD account are very likely to be different, which means a <code>terraform plan</code> that succeeds locally can fail on the CI/CD pipeline, for instance if the CI/CD account is missing a certain permission. Other differences in their respective environments such as firewalls, API connectivity, can cause unexpected errors.</p><p>Running commands locally that can manipulate state need careful orchestration. While many state backends support locking, you&rsquo;d still want to ensure the rest of the team are aware that you&rsquo;re going to run a command such as <code>terraform import</code>, particularly if you intend to run multiple such commands one after the other. You&rsquo;d rather ensure no CI/CD jobs are going to run and fail when they try to lock the state. And then there&rsquo;s no auditing that you ran <code>terraform import</code>.</p><p>Running terraform instead on kubernetes resolves these problems. If you run your cluster in the cloud, then securing connectivity to the cloud APIs is easier, and its proximity to the cloud APIs can only make for a faster <code>terraform plan</code>.</p><p>The same platform is shared by both users and CI/CD pipelines. Both trigger terraform commands through the use of the <code>etok</code> CLI. Sharing the same platform mitigates the unexpected errors on CI/CD pipelines described above.</p><p>Kubernetes RBAC provides for granular and tried and tested access control of terraform operations. Its control plane and tooling permits interrogation, monitoring and auditing of terraform operations. And of course its scaling abilities permit massively concurrently use of terraform.</p><p>And of course kubernetes opens up all sorts of opportunities for integration, whether with your application deployments or with other kubernetes operators and controllers.</p></article><footer class=book-footer><div class="flex flex-wrap justify-between"><div><a class="flex align-center" href=https://github.com/leg100/etok/edit/master/docs/content//_index.md target=_blank rel=noopener><img src=/svg/edit.svg class=book-icon alt=Edit>
<span>Edit this page</span></a></div></div></footer><div class=book-comments></div><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><div class=book-toc-content><nav id=TableOfContents><ul><li><a href=#features>Features</a></li><li><a href=#motivation>Motivation</a></li></ul></nav></div></aside></main></body></html>